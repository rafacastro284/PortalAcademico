<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Portal do Professor</title>
  <link rel="stylesheet" href="professor.css" />
</head>
<body>
  <div class="faixa-topo"></div>
  
  <div class="container-professor">
    <header class="cabecalho-professor">
      <div class="info-professor">
        <h1>Portal do Professor</h1>
        <div class="dados-professor">
          <div class="saudacao-registro">
            <span class="ola">OlÃ¡,</span>
            <span id="nomeProfessor" class="nome-professor">Carregando...</span>
          </div>
          <div class="info-materia-registro">
            <span id="registroProfessor" class="registro">Registro: </span>
            <span id="materiaProfessor" class="materia">MatÃ©ria: </span>
          </div>
        </div>
      </div>
      <button class="btn-sair">Sair</button>
    </header>

    <!-- metricas -->
    <div class="metricas-professor">
      <div class="card-metrica">
        <div class="icone-metrica">ğŸ§®</div>
        <div class="info-metrica">
          <span class="valor" id="totalTurmas">0</span>
          <span class="label">Turmas</span>
        </div>
      </div>
      <div class="card-metrica">
        <div class="icone-metrica">ğŸ‘¨â€ğŸ“</div>
        <div class="info-metrica">
          <span class="valor" id="totalAlunos">0</span>
          <span class="label">Alunos</span>
        </div>
      </div>
      <div class="card-metrica">
        <div class="icone-metrica">ğŸ“š</div>
        <div class="info-metrica">
          <span class="valor" id="totalDisciplinas">0</span>
          <span class="label">Disciplinas</span>
        </div>
      </div>
    </div>

    <!-- minhas turmas -->
    <section class="secao-turmas">
      <h2>Minhas Turmas</h2>
      <p class="subtitulo-secao">Selecione uma turma para lanÃ§ar notas e frequÃªncia</p>
      
      <div class="grid-turmas" id="lista-turmas">
        <div class="card-turma carregando">
          <div class="skeleton-loader"></div>
        </div>
        <div class="card-turma carregando">
          <div class="skeleton-loader"></div>
        </div>
        <div class="card-turma carregando">
          <div class="skeleton-loader"></div>
        </div>
      </div>
    </section>

    <!-- gerenciar turma -->
    <section id="secao-gerenciar" class="secao-gerenciar" style="display: none;">
      <div class="cabecalho-gerenciar">
        <button class="btn-voltar" onclick="voltarParaTurmas()">â† Voltar para Turmas</button>
        <div class="info-turma-selecionada">
          <h2 id="titulo-turma">Turma</h2>
          <span id="info-turma" class="info-turma">Disciplina: </span>
        </div>
      </div>

      <!-- abas de gerenciamento -->
      <div class="abas-gerenciar">
        <button class="aba-btn active" onclick="mostrarAba('alunos')">ğŸ‘¨â€ğŸ“ Lista de Alunos</button>
        <button class="aba-btn" onclick="mostrarAba('notas')">ğŸ“‹ LanÃ§ar Notas</button>
        <button class="aba-btn" onclick="mostrarAba('frequencia')">ğŸ“… LanÃ§ar FrequÃªncia</button>
      </div>

      <!-- lista de alunos -->
      <div id="aba-alunos" class="aba-conteudo active">
        <div class="cabecalho-aba">
          <h3>Alunos da Turma</h3>
          <div class="acoes-aba">
            <button class="btn-exportar" onclick="exportarListaAlunos()">ğŸ“¥ Exportar Lista</button>
          </div>
        </div>

        <div class="tabela-container">
          <table class="tabela-alunos" id="tabela-alunos">
            <thead>
              <tr>
                <th>MatrÃ­cula</th>
                <th>Nome do Aluno</th>
                <th>Status</th>
                <th>MÃ©dia Atual</th>
                <th>FrequÃªncia</th>
                <th>AÃ§Ãµes</th>
              </tr>
            </thead>
            <tbody id="corpo-alunos">
            </tbody>
          </table>
          <div id="sem-alunos" class="sem-dados">
            <div class="icone-sem-dados">ğŸ‘¨â€ğŸ“</div>
            <h3>Nenhum aluno nesta turma</h3>
            <p>Os alunos serÃ£o matriculados pela secretaria.</p>
          </div>
        </div>
      </div>

      <!-- lancar notas -->
      <div id="aba-notas" class="aba-conteudo">
        <div class="cabecalho-aba">
          <h3>LanÃ§ar Notas</h3>
          <div class="controles-notas">
            <div class="filtro-grupo">
              <label for="selecionar-bimestre">Bimestre:</label>
              <select id="selecionar-bimestre">
                <option value="1">1Âº Bimestre</option>
                <option value="2">2Âº Bimestre</option>
                <option value="3">3Âº Bimestre</option>
                <option value="4">4Âº Bimestre</option>
              </select>
            </div>
            <div class="filtro-grupo">
              <label for="selecionar-avaliacao">AvaliaÃ§Ã£o:</label>
              <select id="selecionar-avaliacao">
                <option value="av1">AV1</option>
                <option value="av2">AV2</option>
                <option value="av3">AV3</option>
                <option value="trabalho">Trabalho</option>
              </select>
            </div>
            <button class="btn-salvar" onclick="salvarNotas()">ğŸ’¾ Salvar Todas as Notas</button>
          </div>
        </div>

        <div class="tabela-container">
          <table class="tabela-lancar-notas" id="tabela-lancar-notas">
            <thead>
              <tr>
                <th>MatrÃ­cula</th>
                <th>Nome do Aluno</th>
                <th>Nota</th>
                <th>Status</th>
                <th>Ãšltima AtualizaÃ§Ã£o</th>
              </tr>
            </thead>
            <tbody id="corpo-lancar-notas">
            </tbody>
          </table>
        </div>

      <!-- lancar frequencia -->
      <div id="aba-frequencia" class="aba-conteudo">
        <div class="cabecalho-aba">
          <h3>LanÃ§ar FrequÃªncia</h3>
          <div class="controles-frequencia">
            <div class="filtro-grupo">
              <label for="data-frequencia">Data:</label>
              <input type="date" id="data-frequencia" value="">
            </div>
            <div class="acoes-rapidas">
              <button class="btn-rapido" onclick="marcarTodosPresentes()">âœ… Todos Presentes</button>
              <button class="btn-rapido" onclick="marcarTodosFaltantes()">âŒ Todos Faltantes</button>
              <button class="btn-rapido" onclick="limparFrequencia()">ğŸ”„ Limpar</button>
            </div>
            <button class="btn-salvar" onclick="salvarFrequencia()">ğŸ’¾ Salvar FrequÃªncia</button>
          </div>
        </div>

        <div class="tabela-container">
          <table class="tabela-lancar-frequencia" id="tabela-lancar-frequencia">
            <thead>
              <tr>
                <th>MatrÃ­cula</th>
                <th>Nome do Aluno</th>
                <th>PresenÃ§a</th>
                <th>Justificativa</th>
              </tr>
            </thead>
            <tbody id="corpo-lancar-frequencia">
            </tbody>
          </table>
        </div>

        <div class="legenda-frequencia">
          <h4>Legenda:</h4>
          <div class="itens-legenda">
            <div class="item-legenda">
              <span class="status-presente">Presente</span>
            </div>
            <div class="item-legenda">
              <span class="status-falta">Falta</span>
            </div>
            <div class="item-legenda">
              <span class="status-justificada">Justificada</span>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <div class="faixa-rodape">
    <div class="conteudo-rodape">
      <span>Copyright Â© 2025 - Portal AcadÃªmico</span>
      <span id="data-atual"></span>
    </div>
  </div>
  
  <script src="professor.js"></script>
</body>
</html>